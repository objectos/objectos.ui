"use strict";(self.webpackChunk_carbon_react=self.webpackChunk_carbon_react||[]).push([[5542],{"./src/components/TextInput/TextInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_internal_useNormalizedInputProps__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/internal/useNormalizedInputProps.tsx"),_prop_types_deprecate__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/prop-types/deprecate.ts"),_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/TextInput/util.js"),_FluidForm__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/FluidForm/FormContext.ts"),_internal_useMergedRefs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/internal/useMergedRefs.ts"),_internal_usePrefix__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/internal/usePrefix.ts"),_internal_getAnnouncement__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/internal/getAnnouncement.ts"),_Text__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Text/Text.tsx"),_AILabel__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/AILabel/index.tsx"),_internal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/internal/utils.ts");const TextInput=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function TextInput({className,decorator,disabled=!1,helperText,hideLabel,id,inline=!1,invalid=!1,invalidText,labelText,light,onChange=()=>{},onClick=()=>{},placeholder,readOnly,size,type="text",warn=!1,warnText,enableCounter=!1,maxCount,slug,...rest},ref){const prefix=(0,_internal_usePrefix__WEBPACK_IMPORTED_MODULE_2__.M)(),{defaultValue,value}=rest,inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),mergedRef=(0,_internal_useMergedRefs__WEBPACK_IMPORTED_MODULE_3__.a)([ref,inputRef]);function getInitialTextCount(){return(defaultValue||value||inputRef.current?.value||"").toString().length}const[textCount,setTextCount]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getInitialTextCount());(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTextCount(getInitialTextCount())}),[value,defaultValue,enableCounter]);const normalizedProps=(0,_internal_useNormalizedInputProps__WEBPACK_IMPORTED_MODULE_4__.l)({id,readOnly,disabled,invalid,invalidText,warn,warnText}),sharedTextInputProps={id,onChange:evt=>{normalizedProps.disabled||(setTextCount(evt.target.value?.length),onChange(evt))},onClick:evt=>{normalizedProps.disabled||onClick(evt)},placeholder,type,ref:mergedRef,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${prefix}--text-input`,{[`${prefix}--text-input--light`]:light,[`${prefix}--text-input--invalid`]:normalizedProps.invalid,[`${prefix}--text-input--warning`]:normalizedProps.warn,[`${prefix}--text-input--${size}`]:size,[`${prefix}--layout--size-${size}`]:size}),title:placeholder,disabled:normalizedProps.disabled,readOnly,"aria-describedby":helperText&&normalizedProps.helperId,...rest};enableCounter&&(sharedTextInputProps.maxLength=maxCount);const inputWrapperClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()([classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${prefix}--form-item`,className)],`${prefix}--text-input-wrapper`,{[`${prefix}--text-input-wrapper--readonly`]:readOnly,[`${prefix}--text-input-wrapper--light`]:light,[`${prefix}--text-input-wrapper--inline`]:inline,[`${prefix}--text-input-wrapper--inline--invalid`]:inline&&normalizedProps.invalid}),labelClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${prefix}--label`,{[`${prefix}--visually-hidden`]:hideLabel,[`${prefix}--label--disabled`]:normalizedProps.disabled,[`${prefix}--label--inline`]:inline,[`${prefix}--label--inline--${size}`]:inline&&!!size}),helperTextClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${prefix}--form__helper-text`,{[`${prefix}--form__helper-text--disabled`]:normalizedProps.disabled,[`${prefix}--form__helper-text--inline`]:inline}),fieldOuterWrapperClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${prefix}--text-input__field-outer-wrapper`,{[`${prefix}--text-input__field-outer-wrapper--inline`]:inline}),fieldWrapperClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${prefix}--text-input__field-wrapper`,{[`${prefix}--text-input__field-wrapper--warning`]:normalizedProps.warn,[`${prefix}--text-input__field-wrapper--slug`]:slug,[`${prefix}--text-input__field-wrapper--decorator`]:decorator}),iconClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()({[`${prefix}--text-input__invalid-icon`]:normalizedProps.invalid||normalizedProps.warn,[`${prefix}--text-input__invalid-icon--warning`]:normalizedProps.warn}),counterClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()(`${prefix}--label`,{[`${prefix}--label--disabled`]:disabled,[`${prefix}--text-input__label-counter`]:!0}),counter=enableCounter&&maxCount?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Text__WEBPACK_IMPORTED_MODULE_5__.E,{as:"div",className:counterClasses},`${textCount}/${maxCount}`):null,label=labelText?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Text__WEBPACK_IMPORTED_MODULE_5__.E,{as:"label",htmlFor:id,className:labelClasses},labelText):null,labelWrapper=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`${prefix}--text-input__label-wrapper`},label,counter),helper=helperText?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Text__WEBPACK_IMPORTED_MODULE_5__.E,{as:"div",id:normalizedProps.helperId,className:helperTextClasses},helperText):null,input=react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",(0,_util__WEBPACK_IMPORTED_MODULE_6__.k)({sharedTextInputProps,invalid:normalizedProps.invalid,invalidId:normalizedProps.invalidId,warn:normalizedProps.warn,warnId:normalizedProps.warnId})),{isFluid}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_FluidForm__WEBPACK_IMPORTED_MODULE_7__.c),announcerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[prevAnnouncement,setPrevAnnouncement]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),ariaAnnouncement=(0,_internal_getAnnouncement__WEBPACK_IMPORTED_MODULE_8__.c)(textCount,maxCount);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(ariaAnnouncement&&ariaAnnouncement!==prevAnnouncement){const announcer=announcerRef.current;if(announcer){announcer.textContent="";const timeoutId=setTimeout((()=>{announcer&&(announcer.textContent=ariaAnnouncement,setPrevAnnouncement(ariaAnnouncement))}),1e3);return()=>{timeoutId&&clearTimeout(timeoutId)}}}}),[ariaAnnouncement,prevAnnouncement]);const Icon=normalizedProps.icon,candidate=slug??decorator,normalizedDecorator=(0,_internal__WEBPACK_IMPORTED_MODULE_9__.Y)(candidate,_AILabel__WEBPACK_IMPORTED_MODULE_10__.td)?(0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(candidate,{size:"mini"}):null;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:inputWrapperClasses},inline?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`${prefix}--text-input__label-helper-wrapper`},labelWrapper,!isFluid&&(normalizedProps.validation||helper)):labelWrapper,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:fieldOuterWrapperClasses},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:fieldWrapperClasses,"data-invalid":normalizedProps.invalid||null},Icon&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Icon,{className:iconClasses}),input,slug?normalizedDecorator:decorator?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`${prefix}--text-input__field-inner-wrapper--decorator`},normalizedDecorator):"",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:`${prefix}--text-input__counter-alert`,role:"alert","aria-live":"assertive","aria-atomic":"true",ref:announcerRef},ariaAnnouncement),isFluid&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("hr",{className:`${prefix}--text-input__divider`}),isFluid&&!inline&&normalizedProps.validation),!isFluid&&!inline&&(normalizedProps.validation||helper)))}));TextInput.displayName="TextInput",TextInput.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,decorator:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node,defaultValue:prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,prop_types__WEBPACK_IMPORTED_MODULE_11___default().number]),disabled:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,enableCounter:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,helperText:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node,hideLabel:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,id:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string.isRequired,inline:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,invalid:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,invalidText:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node,labelText:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node.isRequired,light:(0,_prop_types_deprecate__WEBPACK_IMPORTED_MODULE_12__.C)(prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,"The `light` prop for `TextInput` has been deprecated in favor of the new `Layer` component. It will be removed in the next major release."),maxCount:prop_types__WEBPACK_IMPORTED_MODULE_11___default().number,onChange:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,onClick:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,size:prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOf(["sm","md","lg"]),slug:(0,_prop_types_deprecate__WEBPACK_IMPORTED_MODULE_12__.C)(prop_types__WEBPACK_IMPORTED_MODULE_11___default().node,"The `slug` prop for `TextInput` has been deprecated in favor of the new `decorator` prop. It will be removed in the next major release."),type:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,value:prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,prop_types__WEBPACK_IMPORTED_MODULE_11___default().number]),warn:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,warnText:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node};const __WEBPACK_DEFAULT_EXPORT__=TextInput;TextInput.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{className:{required:!1,tsType:{name:"string"},description:"Specify an optional className to be applied to the `<input>` node",type:{name:"string"}},decorator:{required:!1,tsType:{name:"ReactNode"},description:"**Experimental**: Provide a `decorator` component to be rendered inside the `TextInput` component",type:{name:"node"}},defaultValue:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:"Optionally provide the default value of the `<input>`",type:{name:"union",value:[{name:"string"},{name:"number"}]}},disabled:{required:!1,tsType:{name:"boolean"},description:"Specify whether the `<input>` should be disabled",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},enableCounter:{required:!1,tsType:{name:"boolean"},description:"Specify whether to display the character counter",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},helperText:{required:!1,tsType:{name:"ReactNode"},description:"Provide text that is used alongside the control label for additional help",type:{name:"node"}},hideLabel:{required:!1,tsType:{name:"boolean"},description:"Specify whether you want the underlying label to be visually hidden",type:{name:"bool"}},id:{required:!0,tsType:{name:"string"},description:"Specify a custom `id` for the `<input>`",type:{name:"string"}},inline:{required:!1,tsType:{name:"boolean"},description:"`true` to use the inline version.",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},invalid:{required:!1,tsType:{name:"boolean"},description:"Specify whether the control is currently invalid",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},invalidText:{required:!1,tsType:{name:"ReactNode"},description:"Provide the text that is displayed when the control is in an invalid state",type:{name:"node"}},labelText:{required:!0,tsType:{name:"ReactNode"},description:"Provide the text that will be read by a screen reader when visiting this\ncontrol",type:{name:"node"}},light:{required:!1,tsType:{name:"boolean"},description:"`true` to use the light version. For use on $ui-01 backgrounds only.\nDon't use this to make tile background color same as container background color.\n'The `light` prop for `TextInput` has ' +\n      'been deprecated in favor of the new `Layer` component. It will be removed in the next major release.'",type:{name:"custom",raw:"deprecate(\n  PropTypes.bool,\n  'The `light` prop for `TextInput` has ' +\n    'been deprecated in favor of the new `Layer` component. It will be removed in the next major release.'\n)"}},maxCount:{required:!1,tsType:{name:"number"},description:"Max character count allowed for the input. This is needed in order for enableCounter to display",type:{name:"number"}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:"Optionally provide an `onChange` handler that is called whenever `<input>`\nis updated",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.MouseEvent<HTMLElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLElement>",elements:[{name:"HTMLElement"}]},name:"event"}],return:{name:"void"}}},description:"Optionally provide an `onClick` handler that is called whenever the\n`<input>` is clicked",defaultValue:{value:"() => {}",computed:!1},type:{name:"func"}},placeholder:{required:!1,tsType:{name:"string"},description:"Specify the placeholder attribute for the `<input>`",type:{name:"string"}},readOnly:{required:!1,tsType:{name:"boolean"},description:"Whether the input should be read-only",type:{name:"bool"}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg' | 'xl'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"}]},description:"Specify the size of the Text Input. Currently supports the following:",type:{name:"enum",value:[{value:"'sm'",computed:!1},{value:"'md'",computed:!1},{value:"'lg'",computed:!1}]}},slug:{required:!1,tsType:{name:"ReactNode"},description:"@deprecated please use `decorator` instead.\n**Experimental**: Provide a `Slug` component to be rendered inside the `TextInput` component",type:{name:"custom",raw:"deprecate(\n  PropTypes.node,\n  'The `slug` prop for `TextInput` has ' +\n    'been deprecated in favor of the new `decorator` prop. It will be removed in the next major release.'\n)"}},type:{required:!1,tsType:{name:"string"},description:"Specify the type of the `<input>`",defaultValue:{value:"'text'",computed:!1},type:{name:"string"}},value:{required:!1,tsType:{name:"union",raw:"string | number | undefined",elements:[{name:"string"},{name:"number"},{name:"undefined"}]},description:"Specify the value of the `<input>`",type:{name:"union",value:[{name:"string"},{name:"number"}]}},warn:{required:!1,tsType:{name:"boolean"},description:"Specify whether the control is currently in warning state",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},warnText:{required:!1,tsType:{name:"ReactNode"},description:"Provide the text that is displayed when the control is in warning state",type:{name:"node"}}},composes:["Omit"]}},"./src/components/TextInput/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./src/components/TextInput/TextInput.tsx").A},"./src/components/TextInput/util.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>textInputProps});const invalidProps=invalidId=>({"data-invalid":!0,"aria-invalid":!0,"aria-describedby":invalidId}),warnProps=warnId=>({"aria-describedby":warnId}),helperProps=helperId=>({"aria-describedby":helperId}),textInputProps=({sharedTextInputProps,invalid,invalidId,warn,warnId,hasHelper,helperId})=>({...sharedTextInputProps,...invalid?invalidProps(invalidId):{},...warn?warnProps(warnId):{},...hasHelper?helperProps(helperId):{}})},"./src/internal/getAnnouncement.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>getAnnouncement});const getAnnouncement=(count,maxCount,singularEntityName="character",pluralEntityName="characters")=>{if(void 0===maxCount)return null;const remaining=maxCount-count;if(remaining<=10&&remaining>0){return`${remaining} ${1===remaining?singularEntityName:pluralEntityName} left.`}return remaining<=0?`Maximum ${pluralEntityName} reached.`:null}},"./src/internal/useNormalizedInputProps.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>useNormalizedInputProps});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_carbon_icons_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../icons-react/es/generated/bucket-19.js"),_components_Text__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Text/Text.tsx"),_usePrefix__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/internal/usePrefix.ts");const useNormalizedInputProps=({id,readOnly,disabled,invalid,invalidText,warn,warnText})=>{const prefix=(0,_usePrefix__WEBPACK_IMPORTED_MODULE_1__.M)(),normalizedProps={disabled:!readOnly&&disabled,invalid:!readOnly&&invalid,invalidId:`${id}-error-msg`,warn:!readOnly&&!invalid&&warn,warnId:`${id}-warn-msg`,validation:null,icon:null,helperId:`${id}-helper-text`};return normalizedProps.invalid?(normalizedProps.icon=_carbon_icons_react__WEBPACK_IMPORTED_MODULE_2__.BF,normalizedProps.validation=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_Text__WEBPACK_IMPORTED_MODULE_3__.E,{as:"div",className:`${prefix}--form-requirement`,id:normalizedProps.invalidId},invalidText)):normalizedProps.warn&&(normalizedProps.icon=_carbon_icons_react__WEBPACK_IMPORTED_MODULE_2__.OR,normalizedProps.validation=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_Text__WEBPACK_IMPORTED_MODULE_3__.E,{as:"div",className:`${prefix}--form-requirement`,id:normalizedProps.warnId},warnText)),normalizedProps}}}]);