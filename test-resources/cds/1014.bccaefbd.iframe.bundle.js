"use strict";(self.webpackChunk_carbon_react=self.webpackChunk_carbon_react||[]).push([[1014],{"./src/components/Popover/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Popover,h:()=>PopoverContent});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_prop_types_deprecateValuesWithin__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/prop-types/deprecateValuesWithin.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_internal_useIsomorphicEffect__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/internal/useIsomorphicEffect.ts"),_internal_useMergedRefs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/internal/useMergedRefs.ts"),_internal_usePrefix__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/internal/usePrefix.ts"),_internal_useEvent__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/internal/useEvent.ts"),_tools_mapPopoverAlign__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/tools/mapPopoverAlign.ts"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),_floating_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),_FeatureFlags__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/FeatureFlags/index.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const PopoverContext=react__WEBPACK_IMPORTED_MODULE_1__.createContext({setFloating:{current:null},caretRef:{current:null},autoAlign:null}),Popover=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((function PopoverRenderFunction({isTabTip,align:initialAlign=(isTabTip?"bottom-start":"bottom"),as:BaseComponent="span",autoAlign=!1,autoAlignBoundary,caret=!isTabTip,className:customClassName,children,dropShadow=!0,highContrast=!1,onRequestClose,open,alignmentAxisOffset,...rest},forwardRef){const prefix=(0,_internal_usePrefix__WEBPACK_IMPORTED_MODULE_2__.M)(),floating=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),caretRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),popover=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),enableFloatingStyles=(0,_FeatureFlags__WEBPACK_IMPORTED_MODULE_3__.u)("enable-v12-dynamic-floating-styles")||autoAlign;let align=(0,_tools_mapPopoverAlign__WEBPACK_IMPORTED_MODULE_4__.F)(initialAlign);(0,_internal_useEvent__WEBPACK_IMPORTED_MODULE_5__._)(popover,"focusout",(event=>{const relatedTarget=event.relatedTarget;if(!relatedTarget)return void onRequestClose?.();const isOutsideMainContainer=!popover.current?.contains(relatedTarget),isOutsideFloating=!enableFloatingStyles||!refs.floating.current||!refs.floating.current.contains(relatedTarget);isOutsideMainContainer&&isOutsideFloating&&onRequestClose?.()})),(0,_internal_useEvent__WEBPACK_IMPORTED_MODULE_5__.M)("click",(({target})=>{open&&target instanceof Node&&!popover.current?.contains(target)&&onRequestClose?.()}));const initialCaretHeight=react__WEBPACK_IMPORTED_MODULE_1__.Children.toArray(children).some((x=>x?.props?.className?.includes("slug")||x?.props?.className?.includes("ai-label")))?7:6,popoverDimensions=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({offset:10,caretHeight:initialCaretHeight});(0,_internal_useIsomorphicEffect__WEBPACK_IMPORTED_MODULE_6__.A)((()=>{if(caret&&popover.current){const getStyle=window.getComputedStyle(popover.current,null),offsetProperty=getStyle.getPropertyValue("--cds-popover-offset"),caretProperty=getStyle.getPropertyValue("--cds-popover-caret-height");offsetProperty&&(popoverDimensions.current.offset=offsetProperty.includes("px")?1*Number(offsetProperty.split("px",1)[0]):16*Number(offsetProperty.split("rem",1)[0])),caretProperty&&(popoverDimensions.current.caretHeight=caretProperty.includes("px")?1*Number(caretProperty.split("px",1)[0]):16*Number(caretProperty.split("rem",1)[0]))}}));const{refs,floatingStyles,placement,middlewareData}=(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.we)(enableFloatingStyles?{placement:align,strategy:"fixed",middleware:[(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.cY)(isTabTip?0:{alignmentAxis:alignmentAxisOffset,mainAxis:popoverDimensions?.current?.offset}),autoAlign&&(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.UU)({fallbackPlacements:isTabTip?align.includes("bottom")?["bottom-start","bottom-end","top-start","top-end"]:["top-start","top-end","bottom-start","bottom-end"]:align.includes("bottom")?["bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end","top","top-start","top-end"]:["top","top-start","top-end","left","left-start","left-end","right","right-start","right-end","bottom","bottom-start","bottom-end"],fallbackStrategy:"initialPlacement",fallbackAxisSideDirection:"start",boundary:autoAlignBoundary}),(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.UE)({element:caretRef}),autoAlign&&(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.jD)()],whileElementsMounted:_floating_ui_react__WEBPACK_IMPORTED_MODULE_9__.ll}:{}),value=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>({floating,setFloating:refs.setFloating,caretRef,autoAlign})),[refs.setFloating,autoAlign]);if(isTabTip){["bottom-start","bottom-end"].includes(align)||(align="bottom-start")}(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{if(enableFloatingStyles){const updatedFloatingStyles={...floatingStyles,visibility:middlewareData.hide?.referenceHidden?"hidden":"visible"};if(Object.keys(updatedFloatingStyles).forEach((style=>{refs.floating.current&&(refs.floating.current.style[style]=updatedFloatingStyles[style])})),caret&&middlewareData&&middlewareData.arrow&&caretRef?.current){const{x,y}=middlewareData.arrow,staticSide={top:"bottom",right:"left",bottom:"top",left:"right"}[placement.split("-")[0]];caretRef.current.style.left=null!=x?`${x}px`:"",caretRef.current.style.top=null!=y?`${y}px`:"",caretRef.current.style.right="",caretRef.current.style.bottom="",staticSide&&(caretRef.current.style[staticSide]=-popoverDimensions?.current?.caretHeight+"px")}}}),[floatingStyles,refs.floating,enableFloatingStyles,middlewareData,placement,caret]);const ref=(0,_internal_useMergedRefs__WEBPACK_IMPORTED_MODULE_10__.a)([forwardRef,popover]),currentAlignment=autoAlign&&placement!==align?placement:align,className=classnames__WEBPACK_IMPORTED_MODULE_0___default()({[`${prefix}--popover-container`]:!0,[`${prefix}--popover--caret`]:caret,[`${prefix}--popover--drop-shadow`]:dropShadow,[`${prefix}--popover--high-contrast`]:highContrast,[`${prefix}--popover--open`]:open,[`${prefix}--popover--auto-align ${prefix}--autoalign`]:enableFloatingStyles,[`${prefix}--popover--${currentAlignment}`]:!0,[`${prefix}--popover--tab-tip`]:isTabTip},customClassName),mappedChildren=react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children,(child=>{const item=child,displayName=item?.type?.displayName,isTriggerElement="button"===item?.type,isTriggerComponent=enableFloatingStyles&&displayName&&["ToggletipButton"].includes(displayName),isAllowedTriggerComponent=enableFloatingStyles&&!["ToggletipContent","PopoverContent"].includes(displayName);if(react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(item)&&(isTriggerElement||isTriggerComponent||isAllowedTriggerComponent)){const className=item?.props?.className,ref=(item?.props).ref,tabTipClasses=classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${prefix}--popover--tab-tip__button`,className);return react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(item,{className:isTabTip&&"button"===item?.type?tabTipClasses:className||"",ref:node=>{(enableFloatingStyles&&item?.type!==PopoverContent||enableFloatingStyles&&"ToggletipButton"===item?.type.displayName)&&refs.setReference(node),"function"==typeof ref?ref(node):null!=ref&&(ref.current=node)}})}return item})),BaseComponentAsAny=BaseComponent;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(PopoverContext.Provider,{value},react__WEBPACK_IMPORTED_MODULE_1__.createElement(BaseComponentAsAny,_extends({},rest,{className,ref}),enableFloatingStyles||isTabTip?mappedChildren:children))}));function PopoverContentRenderFunction({className,children,...rest},forwardRef){const prefix=(0,_internal_usePrefix__WEBPACK_IMPORTED_MODULE_2__.M)(),{setFloating,caretRef,autoAlign}=react__WEBPACK_IMPORTED_MODULE_1__.useContext(PopoverContext),ref=(0,_internal_useMergedRefs__WEBPACK_IMPORTED_MODULE_10__.a)([setFloating,forwardRef]),enableFloatingStyles=(0,_FeatureFlags__WEBPACK_IMPORTED_MODULE_3__.u)("enable-v12-dynamic-floating-styles")||autoAlign;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",_extends({},rest,{className:`${prefix}--popover`}),react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()(`${prefix}--popover-content`,className),ref},children,enableFloatingStyles&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()({[`${prefix}--popover-caret`]:!0,[`${prefix}--popover--auto-align`]:!0}),ref:caretRef})),!enableFloatingStyles&&react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_0___default()({[`${prefix}--popover-caret`]:!0}),ref:caretRef}))}Popover.propTypes={align:(0,_prop_types_deprecateValuesWithin__WEBPACK_IMPORTED_MODULE_11__.A)(prop_types__WEBPACK_IMPORTED_MODULE_12___default().oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-bottom","left-top","right","right-bottom","right-top","top-start","top-end","bottom-start","bottom-end","left-end","left-start","right-end","right-start"]),["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"],_tools_mapPopoverAlign__WEBPACK_IMPORTED_MODULE_4__.F),alignmentAxisOffset:prop_types__WEBPACK_IMPORTED_MODULE_12___default().number,as:prop_types__WEBPACK_IMPORTED_MODULE_12___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_12___default().string,prop_types__WEBPACK_IMPORTED_MODULE_12___default().elementType]),autoAlign:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool,autoAlignBoundary:prop_types__WEBPACK_IMPORTED_MODULE_12___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_12___default().oneOf(["clippingAncestors"]),prop_types__WEBPACK_IMPORTED_MODULE_12___default().elementType,prop_types__WEBPACK_IMPORTED_MODULE_12___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_12___default().elementType),prop_types__WEBPACK_IMPORTED_MODULE_12___default().exact({x:prop_types__WEBPACK_IMPORTED_MODULE_12___default().number.isRequired,y:prop_types__WEBPACK_IMPORTED_MODULE_12___default().number.isRequired,width:prop_types__WEBPACK_IMPORTED_MODULE_12___default().number.isRequired,height:prop_types__WEBPACK_IMPORTED_MODULE_12___default().number.isRequired})]),caret:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool,children:prop_types__WEBPACK_IMPORTED_MODULE_12___default().node,className:prop_types__WEBPACK_IMPORTED_MODULE_12___default().string,dropShadow:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool,highContrast:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool,isTabTip:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool,onRequestClose:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func,open:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool.isRequired};const PopoverContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(PopoverContentRenderFunction);PopoverContent.displayName="PopoverContent",PopoverContent.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_12___default().node,className:prop_types__WEBPACK_IMPORTED_MODULE_12___default().string},Popover.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{align:{defaultValue:{value:"isTabTip ? 'bottom-start' : 'bottom'",computed:!1},description:"Specify how the popover should align with the trigger element",type:{name:"custom",raw:"deprecateValuesWithin(\n  PropTypes.oneOf([\n    'top',\n    'top-left', // deprecated use top-start instead\n    'top-right', // deprecated use top-end instead\n\n    'bottom',\n    'bottom-left', // deprecated use bottom-start instead\n    'bottom-right', // deprecated use bottom-end instead\n\n    'left',\n    'left-bottom', // deprecated use left-end instead\n    'left-top', // deprecated use left-start instead\n\n    'right',\n    'right-bottom', // deprecated use right-end instead\n    'right-top', // deprecated use right-start instead\n\n    // new values to match floating-ui\n    'top-start',\n    'top-end',\n    'bottom-start',\n    'bottom-end',\n    'left-end',\n    'left-start',\n    'right-end',\n    'right-start',\n  ]),\n  [\n    'top',\n    'top-start',\n    'top-end',\n    'bottom',\n    'bottom-start',\n    'bottom-end',\n    'left',\n    'left-start',\n    'left-end',\n    'right',\n    'right-start',\n    'right-end',\n  ],\n  mapPopoverAlign\n)"},required:!1},as:{defaultValue:{value:"'span'",computed:!1},description:"Provide a custom element or component to render the top-level node for the\ncomponent.",type:{name:"union",value:[{name:"string"},{name:"elementType"}]},required:!1},autoAlign:{defaultValue:{value:"false",computed:!1},description:"Will auto-align the popover on first render if it is not visible. This prop\nis currently experimental and is subject to future changes. Requires\nReact v17+\n@see https://github.com/carbon-design-system/carbon/issues/18714",type:{name:"bool"},required:!1},caret:{defaultValue:{value:"isTabTip ? false : true",computed:!1},description:"Specify whether a caret should be rendered",type:{name:"bool"},required:!1},dropShadow:{defaultValue:{value:"true",computed:!1},description:"Specify whether a drop shadow should be rendered on the popover",type:{name:"bool"},required:!1},highContrast:{defaultValue:{value:"false",computed:!1},description:"Render the component using the high-contrast variant",type:{name:"bool"},required:!1},alignmentAxisOffset:{description:"**Experimental:** Provide an offset value for alignment axis. Only takes effect when `autoalign` is enabled.",type:{name:"number"},required:!1},autoAlignBoundary:{description:"Specify a bounding element to be used for autoAlign calculations. The viewport is used by default. This prop is currently experimental and is subject to future changes.",type:{name:"union",value:[{name:"enum",value:[{value:"'clippingAncestors'",computed:!1}]},{name:"elementType"},{name:"arrayOf",value:{name:"elementType"}},{name:"exact",value:{x:{name:"number",required:!0},y:{name:"number",required:!0},width:{name:"number",required:!0},height:{name:"number",required:!0}}}]},required:!1},children:{description:"Provide elements to be rendered inside of the component",type:{name:"node"},required:!1},className:{description:"Provide a custom class name to be added to the outermost node in the\ncomponent",type:{name:"string"},required:!1},isTabTip:{description:"Render the component using the tab tip variant",type:{name:"bool"},required:!1},onRequestClose:{description:"Specify a handler for closing popover.\nThe handler should take care of closing the popover, e.g. changing the `open` prop.",type:{name:"func"},required:!1},open:{description:"Specify whether the component is currently open or closed",type:{name:"bool"},required:!0}}},PopoverContent.__docgenInfo={description:"",methods:[],displayName:"PopoverContent",props:{children:{description:"Provide elements to be rendered inside of the component",type:{name:"node"},required:!1},className:{description:"Provide a custom class name to be added to the outermost node in the\ncomponent",type:{name:"string"},required:!1}}}},"./src/internal/useEvent.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>useWindowEvent,_:()=>useEvent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const useEvent=(elementOrRef,eventName,callback)=>{const savedCallback=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{savedCallback.current=callback}),[callback]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const element="current"in elementOrRef?elementOrRef.current:elementOrRef;if(!element)return;const handler=event=>{savedCallback.current&&savedCallback.current(event)};return element.addEventListener(eventName,handler),()=>{element.removeEventListener(eventName,handler)}}),[elementOrRef,eventName])},useWindowEvent=(eventName,callback)=>{const savedCallback=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{savedCallback.current=callback}),[callback]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const handler=event=>{savedCallback.current&&savedCallback.current(event)};return window.addEventListener(eventName,handler),()=>{window.removeEventListener(eventName,handler)}}),[eventName])}},"./src/internal/useIsomorphicEffect.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__="undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect},"./src/internal/useMergedRefs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>useMergedRefs});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const useMergedRefs=refs=>{const memoizedRefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>refs),refs);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((node=>{memoizedRefs.forEach((ref=>{"function"==typeof ref?ref(node):ref&&(ref.current=node)}))}),[memoizedRefs])}},"./src/prop-types/deprecateValuesWithin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>deprecateValuesWithin});const didWarnAboutDeprecation={};function deprecateValuesWithin(propType,allowedValues,propMappingFunction){return function checker(props,propName,componentName,...rest){if(void 0!==props[propName]){if(!didWarnAboutDeprecation[componentName]||!didWarnAboutDeprecation[componentName][propName]){didWarnAboutDeprecation[componentName]={...didWarnAboutDeprecation[componentName],[propName]:!0};const deprecatedValue=props[propName],newValue=propMappingFunction?propMappingFunction(deprecatedValue):null;if(allowedValues&&!allowedValues.includes(deprecatedValue)){propMappingFunction||allowedValues.join(", ")}}return propType(props,propName,componentName,...rest)}}}},"./src/tools/mapPopoverAlign.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>mapPopoverAlign});const popoverAlignMapping={"top-left":"top-start","top-right":"top-end","bottom-left":"bottom-start","bottom-right":"bottom-end","left-bottom":"left-end","left-top":"left-start","right-bottom":"right-end","right-top":"right-start"},mapPopoverAlign=align=>popoverAlignMapping[align]??align}}]);